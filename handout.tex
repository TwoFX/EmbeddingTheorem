\documentclass[a4paper, parskip=half]{scrartcl}

\usepackage[l2tabu, orthodox]{nag}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[ngerman]{babel}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[thmmarks, amsmath]{ntheorem}
\usepackage{mathtools}
\usepackage{physics}
\usepackage{centernot}

\usepackage{csquotes}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{enumitem}
\usepackage{stmaryrd}
\usepackage{tikz-cd}
\usepackage{faktor}
\usepackage{etoolbox}

\usepackage[hidelinks]{hyperref}

\theoremstyle{marginbreak}
\theorembodyfont{\normalfont}
\newtheorem{remark}{Bemerkung}[section]
\newtheorem{proposition}[remark]{Proposition}
\newtheorem{theorem}[remark]{Satz}
\newtheorem{lemma}[remark]{Hilfssatz}
\newtheorem{definition}[remark]{Definition}
\newtheorem{defre}[remark]{Definition und Bemerkung}
\newtheorem{defle}[remark]{Definition und Hilfssatz}
\newtheorem{re}[remark]{Erinnerung}
\newtheorem{cor}[remark]{Folgerung}
\newtheorem{corde}[remark]{Folgerung und Definition}
\newtheorem{example}[remark]{Beispiel}

\theoremstyle{nonumberplain}
\theoremheaderfont{\normalfont\itshape}
\theorembodyfont{\footnotesize}
\theoremsymbol{\ensuremath{\Box}}
\newtheorem{proof}{Beweis.}


\MakeOuterQuote{"}

\newtoggle{proofs}
\toggletrue{proofs}

\newcommand{\defiff}{\mathrel{\vcentcolon\Longleftrightarrow}}
\newcommand\ccat\mathsf
\newcommand\cat\mathcal
\newcommand{\down}[1]{{\downarrow}#1}
\newcommand{\p}[1]{\iftoggle{proofs}{#1}{}}
\newcommand{\n}{\pgfmatrixnextcell}

\DeclareMathOperator{\colim}{colim}
\DeclareMathOperator{\id}{id}

\DeclarePairedDelimiterX\set[1]\lbrace\rbrace{\def\given{\;\delimsize\vert\;}#1}

\subtitle{Seminar Kategorientheorie}
\title{Der Einbettungssatz}
\author{Markus Himmel}
\date{19. Juli 2018}

\begin{document}
	\maketitle
	\setcounter{section}{-1}

	\section{Aufwärmen}
		\begin{proposition}[Explizite Berechnung kleiner filtrierter Colimiten in $\ccat{Set}$]\label{2-13-3}
			Es sei $\cat{C}$ klein und filtriert und $F\colon \cat{C}\to\ccat{Set}$ ein
			Funktor. Es ist $\colim_\cat{C} F = L$, wobei
			\[
				L=\faktor{\coprod_{C\in\cat{C}}FC}{\approx},\quad s_C\colon FC\to L;\ x\mapsto [x]_\approx.
			\]
			Die Äquivalenzrelation $\approx$ ist gegeben durch
			\[
				(x\in FC) \approx (x'\in FC') \defiff \exists C''\in\cat{C}, f\colon C\to C'', g\colon C'\to C'': Ff(x) = Fg(x').
			\]
		\end{proposition}
		\textcolor{red}{Wie genau funktioniert das in $\ccat{Ab}$? Borceux erwähnt nur,
			dass der Vergissfunktor filtrierte Colimiten reflektiert, aber ich schaffe
			es nicht mal, $L$ überhaupt zu einer abelschen Gruppe zu machen.}
		\p{\begin{proof}
			Zu zeigen sind:
			\begin{enumerate}
				\item $\approx$ ist eine Äquivalenzrelation.
				%\item $L$ ist eine abelsche Gruppe.
				\item Der gegebene Kegel ist ein Grenzkegel.
			\end{enumerate}
			\begin{enumerate}[label=Zu \arabic*:]
					\begin{minipage}{0.7\textwidth}
					\item Klar: $\approx$ ist reflexiv und symmetrisch. Sei $(x\in FC_1)
					\approx (x' \in FC_2)$, $(x'\in FC_2) \approx (x''\in FC_3)$.
					Es existieren also Morphismen $f, g, h, k$, sodass
					$Ff(x) = Fg(x')$, $Fh(x')=Fk(x'')$. Da $\cat{C}$ filtriert,
					existiert ein Cokegel $(\alpha_i\colon C_i\to C_6)$ über dem
					gegebenen Diagramm. Insbesondere haben wir also
					\begin{align*}
						F\alpha_4 \circ Ff(x) &= F\alpha_4\circ Fg(x') = F\alpha_2(x')\\
							&= F\alpha_5\circ Fh(x') = F\alpha_5\circ Fk(x'').
					\end{align*}
					Dies zeigt $x \approx x''$.
					\end{minipage}
					\begin{minipage}{0.25\textwidth}
						\[\begin{tikzcd}[sep=1em]
							C_1 \ar{dr}{f} \n \n\\
							\n C_4 \ar{dr}{\alpha_4} \n\\
							C_2 \ar{dr}{h} \ar{ur}{g} \ar{rr}{\alpha_2} \n \n C_6\\
							\n C_5 \ar{ur}{\alpha_5} \n\\
							C_3 \ar{ur}{k} \n \n
						\end{tikzcd}\]
					\end{minipage}
				%\item Es sei $(x\in FC_1)\approx (x'\in FC_2)$, $(y\in FC_3)\approx(y'\in FC_4)$.
				\item Es seien $C, C'\in\cat{C}$, $f\colon C\to C'$, $x\in C$.
					Wegen $Ff(x) = F(\id_{C'})(Ff(x))$ gilt $s_C(x) = [x]_\approx
					= [Ff(x)]_\approx = s_{C'}(Ff(x)) \implies s_C = s_{C'}\circ Ff$.
					Also bilden die $s_C$ einen Kegel. Es sei ein weiterer Kegel
					gegeben durch $(t_C\colon FC\to M)_{C\in\cat{C}}$. Definiere
					$t\colon L\to M$ durch $t([x]_\approx)\coloneqq t_C(x)$ für
					$x\in FC$. Dies ist wohldefiniert, denn für $x'\in FC'$ mit
					$[x']_\approx = [x]_\approx$ existieren $f\colon C\to C''$,
					$g\colon C'\to C''$ mit $Ff(x) = Fg(x')$. Da $t$ ein Kegel ist, folgt
					\[
						t_C(x) = t_{C''}\circ Ff(x) = t_{C''}\circ Fg(x') = t_{C'}(x').
					\]
					$t\circ s_C=t_C$ gilt per Konstruktion und $t$ wird durch diese
					Identität eindeutig festgelegt.
			\end{enumerate}
		\end{proof}}
		\begin{proposition}
			Es sei $\cat{C}$ eine Kategorie mit Pullbacks.
			\[
				\begin{tikzcd}[sep=4em]
					A \ar{r}{a} \ar[phantom]{dr}{\text{(I)}} \ar{d}{c} & B \ar[phantom]{dr}{\text{(II)}} \ar{r}{b} \ar{d}{d} & C \ar{d}{e}\\
					D \ar{r}{f} & E \ar{r}{g} & F
				\end{tikzcd}
			\]
			Das obige Diagramm sei kommutativ.
			\begin{enumerate}
				\item Falls (I) und (II) Pullbacks sind, so ist auch das äußere
					Rechteck ein Pullback.
				\item Falls (II) und das äußere Quadrat Pullbacks sind, so ist auch
					(I) ein Pullback.
			\end{enumerate}
		\end{proposition}
		\p{\begin{proof}
			\begin{enumerate}
				\item Es seien $x\colon X\to D$, $y\colon X\to C$ mit $g\circ f\circ x = e\circ y$.
					Pullback (II) liefert ein eindeutiges $z\colon X\to B$, sodass
					$b\circ z = y$, $d\circ z = f\circ x$. Letztere Gleichheit und Pullback
					(I) geben ein eindeutiges $w\colon X\to A$, sodass $a\circ w = z$, $c\circ w = x$.
					Insbesondere gilt $b\circ a\circ w = b\circ z = y$. Es sei $w'\colon X\to A$ ein
					weiterer Morphismus mit $b\circ a\circ w' = y$ und $c\circ w' = x$. Es gilt also
					$b\circ (a\circ w') = y = b\circ (a\circ w)$ und
					$d\circ(a\circ w') = f\circ (c\circ w') = f\circ x = f\circ c\circ w = d\circ (a\circ w)$.
					Pullback (II) liefert $a\circ w'=a\circ w$. Weiter ist $c\circ w'= x = c\circ w$.
					Pullback (I) liefert $w=w'$.
				\item Es sei $(A', c', a')$ der Pullback von $f$ und $d$. Mit (1) und da (II) ein Pullback ist, ist $(A', c', b\circ a')$ ein Pullback von
					$(g\circ f, e)$. Es ist jedoch auch $(A, c, b\circ a)$ ein Pullback von $(g\circ f, e)$.
					Da Limiten eindeutig sind, folgt $A\cong A'$. \textcolor{red}{Reicht das? Borceux
					schreibt den Isomophismus noch hin, aber ich glaube, das hier zeigt schon die
					Behauptung.}
			\end{enumerate}
		\end{proof}}
		\begin{proposition}
			In einer Kategorie $\cat{C}$ sei $f\colon A\to B$ der Coequalizer von
			$x, y\colon X\rightrightarrows A$. Weiter existiere der Pullback
			$\alpha, \beta\colon P\rightrightarrows A$ von $(f, f)$. Dann ist
			$f$ auch der Coequalizer von $(\alpha, \beta)$.
		\end{proposition}
		\p{%
			\begin{minipage}{0.75\textwidth}%
			\begin{proof}
				Es sei $f$ der Coequalizer von $(x, y)$ und $(\alpha, \beta)$ der
				Pullback von $(f, f)$. Wegen $f\circ x = f\circ y$ existiert ein
				eindeutiger Morphismus $z\colon X \to P$ mit $\alpha\circ z = x$,
				$\beta\circ z=y$. Ist nun $g\colon A\to C$ ein Morphismus mit
				$g\circ\alpha = g\circ\beta$, so gilt $g\circ x = g\circ\alpha\circ z
				= g\circ\beta\circ z = g\circ y$. Es ist aber $f$ der Coequalizer von
				$(x, y)$, also existiert ein eindeutiges $h$ mit $g = h\circ f$.
				\textcolor{red}{\LaTeX{} macht komische Dinge mit der vertikalen
				Anordnung der Abbildung\dots}
			\end{proof}
		\end{minipage}%
		\begin{minipage}[t][0.25\textwidth][t]{0.25\textwidth}
			\[
				\begin{tikzcd}[sep=1.4em]
					\n X \ar{dl}[']{z} \ar[shift left]{d}{y} \ar[shift right, ']{d}{x} \n \\
					P \ar[shift left]{r}{\alpha} \ar[shift right, ']{r}{\beta} \n \ar{d}{g} A \ar{r}{f} \n \ar{dl}{h} B \\
					\n C \n
				\end{tikzcd}
			\]
		\end{minipage}}

	\section{Der Einbettungssatz}
		Es sei stets $\cat{A}$ eine kleine abelsche Kategorie.
		\begin{proposition}\label{1-14-1}
			Es sei $F\colon\cat{D}\to\ccat{Ab}^{\cat{A}}$ ein filtriertes Diagramm
			linksexakter additiver Funktoren. Dann ist auch $\colim_{D\in\cat{D}} F(D)$
			linksexakt und additiv.
		\end{proposition}
		\p{\begin{proof}
			Ohne.
		\end{proof}}
		\begin{definition}[Die Einbettung]
			Für eine Kategorie $\cat{D}$ und einen Funktor $\phi\colon\cat{D}\to\cat{A}$
			definiere $U\coloneqq\colim_{D\in\cat{D}} (Y\circ\phi)(D)$, wobei $Y$ die
			kontravariante Yoneda-Einbettung bezeichnet.
		\end{definition}
		\begin{lemma}
			Ist $\cat{D}$ kofiltriert, so ist $U$ linksexakt.
		\end{lemma}
		\p{\begin{proof}
			Jeder darstellbare Funktor $\cat{A}(A, {-})\colon\cat{A}\to\ccat{Ab}$
			präserviert Limiten, denn der darstellbare Funktor
			$\cat{A}(A, {-})\colon\cat{A}\to\ccat{Set}$ tut das (Vortrag),
			und der Vergissfunktor $\ccat{Ab}\to\ccat{Set}$ reflektiert Limiten
			(Ohne Beweis? Liegt daran dass er Isomorphismen reflektiert). Also
			ist $\cat{A}(A, {-})\colon \cat{A}\to\ccat{Ab}$ linksexakt (Vortrag).
			Da $Y$ kontravariant ist, ist $U$ ein filtrierter Colimes linksexakter
			Funktoren und mit \ref{1-14-1} selbst linksexakt.
		\end{proof}}
		\begin{lemma}
			Es sei $\cat{D}$ kofiltriert. Weiter besitze jeder Epimorphismus
			$f\colon A\to\phi(D)$ in $\cat{A}$ die Darstellung $f = \phi(d)$, wobei
			$d\colon D'\to D$ in $\cat{D}$. Dann erhält $U$ Epimorphismen.
		\end{lemma}
		\p{\begin{proof}
			Es sei $g\colon B\to C$ ein Epimorphismus in $\cat{A}$. $U(g)$ ist genau
			dann ein Epimorphismus, wenn er surjektiv ist. Wir verwenden \ref{2-13-3}
			(in $\ccat{Ab}$).

			Es sei $x\in U(C) = \colim_{D\in\cat{D}}\cat{A}(\phi(D), C)$. $x$ ist
			die Äquivalenzklasse eines Morphismus $\gamma\colon \phi(D)\to C$ in
			$\cat{A}$. Damit $U(g)$, surjektiv ist, muss $y\in U(B)$ existieren,
			sodass $U(g)(y)=x$. $y$ ist die Äquivalenzklasse eines Morphismus
			$\beta\colon\phi(D')\to B$. Es gilt $U(g)([\beta]_\approx) = [g\circ\beta]_\approx$,
			wir suchen also (Kontravarianz!) $D''\in\cat{D}$, $d\colon D''\to D$,
			$d'\colon D''\to D'$, sodass $g\circ\beta\circ\phi(d')=\gamma\circ\phi(d)$.

			Es sei $(A, \alpha, f)$ der Pullback von $(\gamma, g)$ in $\cat{A}$,
			also $g\circ\alpha = \gamma\circ f$.
			$f$ ist ein Epimorphismus, da $g$ ein Epimorphismus (Vortrag), und
			per Voraussetzung existiert $\overline{d}\colon \overline{D}\to D$
			mit $f=\phi(\overline{d})$. Die Wahlen $D'\coloneqq D''\coloneqq \overline{D}$,
			$\beta\coloneqq\alpha$, $d'\coloneqq\id_{\overline{D}}$, $d\coloneqq\overline{d}$
			liefern $g\circ\alpha\circ\phi(d')=g\circ\alpha=\gamma\circ\phi(d)$ wie
			gewünscht.
		\end{proof}}
		\begin{lemma}
			Es sei $\cat{D}$ kofiltriert. Weiter gelte:
			\begin{enumerate}[label=(\arabic*)]
				\item $\forall A\in\cat{A}\ \exists D\in\cat{D}: A=\phi(D)$;
				\item $\phi(d)$ ist ein Epimorphismus in $\cat{A}$ für jeden Morphismus $d$ in $\cat{D}$.
			\end{enumerate}
			Dann ist $U$ treu.
		\end{lemma}
		\begin{theorem}[von der treuen Einbettung]\label{abeb}
			Jede kleine abelsche Kategorie lässt sich treu und exakt in die Kategorie
			der abelschen Gruppen einbetten.
		\end{theorem}

		Die Aussagen von \ref{fin}, \ref{fact} und \ref{func} beziehen sich auf
		die im Beweis von \ref{abeb} konstruierten
		Wahlen für $\cat{D}$ und $\phi$. \textcolor{red}{Ergibt es überhaupt Sinn,
		diese Sätze auf dem Handout zu haben, wenn der Beweis von \ref{abeb}
		nicht drauf ist?}
		\begin{defle}\label{fin}
			Für alle Objekte $D_1,D_2\in\cat{D}$ ist das Segment
				\[
					[D_1, D_2] \coloneqq\set{D\in\cat{D}\given D_1\leq D\leq D_2}
				\]
			endlich.
		\end{defle}
		\begin{lemma}\label{fact}
			Sind $D_1, D_2\in\cat{D}$ Objekte, so ist die kanonische Faktorisierung
			\[
				\begin{tikzcd}
					\phi(D_1) \arrow[r] & \lim_{D_1<D\leq D_2}\phi(D)
				\end{tikzcd}
			\]
			ein Epimorphismus.
		\end{lemma}
		\begin{lemma}\label{func}
			Es sei $D_0\in\cat{D}$ ein Objekt und $\Gamma\colon \down{D_0}\to\cat{A}$
			ein Funktor, wobei für alle $D_1\leq D_2\leq D_0$ die Faktorisierung
			\[
				\begin{tikzcd}
					\Gamma(D_1) \arrow[r] & \lim_{D_1<D\leq D_2} \Gamma(D)
				\end{tikzcd}
			\]
			ein Epimorphismus sei. Weiter sei $F\colon\cat{A}\to\ccat{Ab}$ ein
			Funktor und $\alpha_{D_0}\colon \cat{A}(\Gamma D_0, {-})\Rightarrow F$
			eine natürliche Transformation. Dann besitzt $\alpha_{D_0}$ die
			Faktorisierung
			\[
				\begin{tikzcd}
					\cat{A}(\Gamma D_0, {-}) \arrow{r}{s_{D_0}} & \colim_{D\leq D_0}\cat{A}(\Gamma D, {-}) \arrow{r}{\alpha} & F.
				\end{tikzcd}
			\]
			$s_{D_0}$ ist hierbei der kanonische Morphismus des Colimes.
		\end{lemma}
		\begin{theorem}[von der volltreuen Einbettung; Einbettungssatz von Freyd-Mitchell]
			Für jede kleine abelsche Kategorie existieren ein Ring $R$ und eine volltreue
			und exakte Einbettung in die Kategorie $\ccat{Mod}_R$ der $R$-Moduln.
		\end{theorem}
\end{document}
